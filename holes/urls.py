from django.urls import path, register_converter
from holes import views, converters
from django.views.generic.base import RedirectView

register_converter(converters.ComponentHoleIDConverter, 'YYYY/D')

urlpatterns = [
    #HOLES
    path('holes/', views.HolesView.as_view()),
    path('holes/<YYYY/D:pk>/',views.HoleDetail.as_view(), name='hole-detail-view'),
    #COMPONENTS
    path('components/', views.ComponentsView.as_view()), 
    path('components/<YYYY/D:pk>/',views.ComponentDetail.as_view(), name='component-detail'),
    path('components/<YYYY/D:pk>/holes/',views.ComponentDetailHoles.as_view()),
    path('components/<YYYY/D:pkc>/holes/<YYYY/D:pkh>/',views.CHRedirectView.as_view()),
]
